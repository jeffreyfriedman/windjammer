# Cross-platform stack size configuration

# STACK SIZE: Arena allocation eliminates recursive drops, allowing much smaller stacks
# 8MB is sufficient with arena allocation (was 64MB before)
[target.x86_64-pc-windows-msvc]
rustflags = ["-C", "link-arg=/STACK:8388608", "-C", "link-arg=/DEBUG"]

[target.x86_64-pc-windows-gnu]
rustflags = ["-C", "link-arg=-Wl,--stack,8388608"]

# Set minimum stack size for worker threads (8MB with arena allocation)
[env]
RUST_MIN_STACK = "8388608"
